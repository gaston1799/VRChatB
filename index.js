class coinBase {
    constructor(adress, network, name) {
        if (a && b && c) {
            this.AddCoinBAse(a, b, c)
        }
    }
    AddCoinBAse(adress, network, name) {
        this[address + network] = {}
        this[address + network].Balance = function () {
            return this[address + network].balance
        }
        this[address + network].update = function () {
            httpR(adress, network)
            // up date code
            this[address + network].oldBalance = this[address + network].balance
            this[address + network].balance = balance
            this[address + network].difference == this[address + network].balance - this[address + network].oldBalance
        }
    }
    async Update(adress, network) {
        this[adress + network].update()
    }
}
//npm i dns & npm i http & npm i got & npm i fs & npm i url-exists & npm i path & npm i perf_hooks & npm i https
var borken_mod = `ActiveBackground
AdvancedInvites
AskToPortal
AvatarLimbsGrabber
BetterDirections
BetterPortalPlacement
BetterSteadycam
CalibrateConfirm
CalibrationLinesVisualizer
CursorLockFix
DesktopCamera
DiscordMute
Double-Tap Runner
Friend Notes
FriendLocations
GestureIndicator
HeadTurn
HipTrackerRotator
ITR's Collider Mod
ITR's Gravity Controller
InstanceHistory
MLConsoleViewer
NameplateStats
OG Sitting And Standing Icon
Panic Button Rework
Player Rotater
PlayerList
PortalSelect
PreviewScroller
PrivateInstanceIcon
ProPlates
QMFreeze
QuickMenuVolume
Rank Volume Control
RememberMe
ScreenshotManager
SelectYourself
SmallUserVolume
StandaloneThirdPerson
TeleporterVR
TextChat
ToggleMicIcon
UnmuteSound
UserHistory
UserInfoExtensions
VRCPlusPet
VRCWSLibary
WorldPredownload`.split('\n').filter(e => `DesktopCamera
LeapMotionExtension
CalibrationLinesVisualizer
ScreenshotManager
NetworkSanity
KinectTrackingExtension
VRCQR`.split('\n').indexOf(e) < 0);
var _ = [
    "https://api.vrcmg.com/v0/mods/255/NetworkSanity.dll",
    "https://api.vrcmg.com/v0/mods/256/CameraAnimation.dll",
    "https://api.vrcmg.com/v0/mods/247/ml_alg.dll",
    "https://dl.emmvrc.com/downloads/emmVRCLoader.dll",
    "https://cdn.discordapp.com/attachments/898965007247765604/899010243646865439/ReModCE.Loader.dll",
    "https://api.vrcmg.com/v0/mods/264/MuteTTS.dll",
    "https://api.vrcmg.com/v0/mods/231/VRChatUtilityKit.dll",
    "https://api.vrcmg.com/v0/mods/89/AdvancedSafety.dll",
    "https://api.vrcmg.com/v0/mods/255/RPCSanity.dll",
    "https://api.vrcmg.com/v0/mods/214/ml_clv.dll",
    "https://api.vrcmg.com/v0/mods/157/ViewPointTweaker.dll",
    "https://api.vrcmg.com/v0/mods/82/CameraMinus.dll",
    "https://api.vrcmg.com/v0/mods/52/JoinNotifier.dll",
    //"https://api.vrcmg.com/v0/mods/252/RealFly.dll",
    "https://api.vrcmg.com/v0/mods/183/ImmersiveTouch.dll",
    "https://api.vrcmg.com/v0/mods/249/UpdateChecker.dll",
    "https://api.vrcmg.com/v0/mods/121/PlayerRotater.dll",
    "https://api.vrcmg.com/v0/mods/55/UIExpansionKit.dll",
    "https://api.vrcmg.com/v0/mods/171/TrueShaderAntiCrash.dll",
    "https://api.vrcmg.com/v0/mods/245/PrivateInstanceIcon.dll",
    "https://api.vrcmg.com/v0/mods/239/ScreenshotManager.dll",
    "https://github.com/9E4ECDDE/MultiplayerDynamicBonesMod/releases/download/1043.2/MultiplayerDynamicBonesMod.dll",
    "https://api.vrcmg.com/v0/mods/112/DoubleTapRunner.dll",
    "https://api.vrcmg.com/v0/mods/102/BTKSAGestureMod.dll",
    "https://api.vrcmg.com/v0/mods/221/NoOutlines.dll",
    "https://api.vrcmg.com/v0/mods/218/PanicButtonRework.dll",
    "https://api.vrcmg.com/v0/mods/173/BetterSteadycam.dll",
    "https://api.vrcmg.com/v0/mods/106/OGTrustRanks.dll",
    "https://api.vrcmg.com/v0/mods/42/DesktopCamera.dll",
    "https://api.vrcmg.com/v0/mods/148/CloningBeGone.dll",
    "https://api.vrcmg.com/v0/mods/65/RuntimeGraphicsSettings.dll",
    "https://api.vrcmg.com/v0/mods/62/HWIDPatch.dll",
    "https://api.vrcmg.com/v0/mods/119/BTKSASelfPortrait.dll",
    "https://api.vrcmg.com/v0/mods/133/FinalIKSanity.dll",
    "https://api.vrcmg.com/v0/mods/56/MirrorResolutionUnlimiter.dll",
    "https://api.vrcmg.com/v0/mods/83/RememberMe.dll",
    "https://api.vrcmg.com/v0/mods/216/BetterDirections.dll",
    //"https://api.vrcmg.com/v0/mods/139/VRCBhapticsIntegration.dll",
    "https://api.vrcmg.com/v0/mods/210/SettingsRestart.dll",
    "https://api.vrcmg.com/v0/mods/192/ActiveBackground.dll",
    "https://api.vrcmg.com/v0/mods/114/PostProcessing.dll",
    "https://api.vrcmg.com/v0/mods/115/ToggleMicIcon.dll",
    "https://api.vrcmg.com/v0/mods/77/UniversalGamePriorityMod.dll",
    "https://api.vrcmg.com/v0/mods/211/TeleportCameraToYou.dll",
    ...(`https://api.vrcmg.com/v0/mods/272/VRCQR.dll
https://api.vrcmg.com/v0/mods/278/LocalHeadLightMod.dll
https://api.vrcmg.com/v0/mods/281/CameraFlashMod.dll
https://api.vrcmg.com/v0/mods/231/VRChatUtilityKit.dll`).split('\n')
].filter(e => borken_mod.indexOf(e.split('/').pop().split('.')[0]) < 0);
(typeof window != "undefined" ? window : typeof global != 'undefined' ? global : typeof globalThis != 'undefined' ? globalThis : this).urls = _;



function __________(filename, text) {
    var element = document.createElement('a');
    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
    element.setAttribute('download', filename);

    element.style.display = 'none';
    document.body.appendChild(element);

    element.click();

    document.body.removeChild(element);
}
function _d(link) {
    var file = link.split('/').pop();
    var path = 'mods/' + file;
    return 'powershell -c "Invoke-WebRequest -Uri \'' + link + '\' -OutFile \'' + path + '\'" & echo downloaded ' + file;
}
if (typeof document != "undefined") {
    console.log('Created cmd download for web users');
    var code2 = urls.map(link => {
        var file = link.split('/').pop();
        var path = 'mods/' + file;
        return 'powershell -c "Invoke-WebRequest -Uri \'' + link + '\' -OutFile \'' + path + '\'" & echo downloaded ' + file;
    })
    __________('Run_me.cmd', `
    @echo off
    title Searching for game files
    :startp
    set gamePath=c:\\
    set gameFound=0

    FOR %%G IN (c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z) DO (
        echo checking %%G: drive
        if EXIST %%G: if not gameFound==1 (
            cd /d "%%G:\\"
            FOR /F "tokens=* USEBACKQ" %%F IN (\`dir VRChat /s /b /A:D /A:-H /A:-A /A:-S\`) DO (
                SET str=%%F
                echo test entry:%%F
                echo %%F|find "steamapps" >nul
                echo %%F|find "VRChat" >nul
                echo %%F|find "common" >nul
                if not errorlevel 1 (
                    @echo on
                    set gameFound=1
                    set gamePath=%%F
                    echo found game
                    @echo off
                    goto foundG
                ) ELSE (
                    echo Path is not dir
                )
            )
            if not gameFound==0 ECHO game not found on drive:$$G
        ) ELSE (
            if not gameFound==1 (echo drive %%G not found) 
        )
    )
    if not gameFound==1 (
        set /p id="Cant find game path please enter the gamepath to vrchat remove quotes"
        goto conT
    )
    :foundG
    if not gameFound==0 (
        echo Game found at %gamePath%
        goto conT
    )
    :conT
    cls
    echo "Welcome,"
    set id=%gamePath%
    cd /d %id%
    mkdir mods
    ${code2.join('\n') + '\n'}
    :A
    cls
    echo.
    echo Question?...
    echo.
    set /p menu="Do you want to restart your game? (Y/N): "
    if %menu%==Y goto Yes
    if %menu%==y goto Yes
    if %menu%==N goto No
    if %menu%==n goto No
    cls
    echo.
    echo Mmm try again...
    echo.
    set /p pause="Press any key to continue!... "
    goto A
    
    :Yes
    cls
    taskkill /F /IM "vrchat.exe" /T
    title stopping vrchat.exe
    killall VRChat.exe
    echo.
    echo Okay, Starting game...
    echo.
    set /p menu="Do want to start your game in vr mode? (Y/N): "
    if %menu%==Y goto Yess
    if %menu%==y goto Yess
    if %menu%==N goto Nos
    if %menu%==n goto Nos
    :No
    cls
    echo.
    echo Okay, let's exit...
    echo.
    start /b "" cmd /c del "%~f0"&exit /b
    :Yess
    taskkill /F /IM "vrchat.exe" /T
    title stopping vrchat.exe
    killall VRChat.exe
    echo.
    echo Okay, Starting game...
    echo.
    start vrchat://launch
    start /b "" cmd /c del "%~f0"&exit /b
    :Nos
    taskkill /F /IM "vrchat.exe" /T
    title stopping vrchat.exe
    killall VRChat.exe
    echo.
    echo Okay, Starting game...
    echo.
    
    start vrchat://launch --no-vr
    start /b "" cmd /c del "%~f0"&exit /b
    `)
    //return
};

const { exec } = require("child_process");

exec('echo off')
exec(`echo starting up`)
async function wait_() {
    await new Promise((ok, b) => {
        var online
        var a = online;
        var int = setInterval(async () => {
            require('dns').resolve('www.google.com', e => {
                online = !e;
                if (a != online) {
                    console.log('Connectiong change online:', online, !online ? 'awaiting for conenction' : 'online')
                }
                a = online
                a && (ok(true), clearInterval(int))
            })
        }, 1000);
    });
    return 1
}
var online_
var a_ = online_;
const http = require("http");
const got = (...e) => {/*stuff*/ };
let fs = require("fs");
var downloadings = {};
var mycount = 0;
var urlExists = require('url-exists');
const { join } = require('path');
const { performance } = require('perf_hooks');
const { exit } = require('process');
const { POINT_CONVERSION_COMPRESSED, EXDEV } = require('constants');
const { constants } = require('crypto');
const { url } = require("inspector");
var dps = 10;
var saved = {};
var ss = 0;
var failed = [];
function millisToMinutesAndSeconds(millis) {
    var minutes = Math.floor(millis / 60000);
    var seconds = ((millis % 60000) / 1000).toFixed(0);
    return minutes + ":" + (seconds < 10 ? '0' : '') + seconds;
}

function getRemoteFile(file, url, meta) {
    if (Object.keys(downloadings).length > 10) { setTimeout(e => { getRemoteFile(file, url, meta) }, 100); return }
    console.count()
    if (downloadings[file] || saved[file]) { return }
    downloadings[file] = performance.now()
    console.log('Downloading', file)
    let localFile = fs.createWriteStream(file);
    const https = require("https")
    const request = https.get(url, function (response) {
        ss++
        var len = parseInt(response.headers['content-length'], 10);
        var cur = 0;
        var total = len / 1048576; //1048576 - bytes in 1 Megabyte

        response.on('data', function (chunk) {
            cur += chunk.length;
            //showProgress(file, cur, len, total);
        });

        response.on('end', function () {
            console.log('Downloaded', file, 'in', millisToMinutesAndSeconds(performance.now() - downloadings[file]));
            ss--;
            mycount++;
            delete downloadings[file]
            var txt = [];
            //console.log("Download complete",file);
            //console.clear()
            Object.keys(downloadings).forEach(e => {
                txt.push(downloadings[e]);
            })
            //console.log(Object.keys(downloadings).length<20?txt.sort().join('\n'):`${Object.keys(downloadings).length} Files left`)
            //console.log(Math.floor((total / mycount) * 100), 'Complete Downloading', Object.keys(downloadings).length, 'files');
            if (!Object.keys(downloadings).length) {
                console.log("done")
                //process.exit(1)
            }
            saved[file] = 1;
        });

        response.pipe(localFile);
    });
}

function showProgress(file, cur, len, total) {
    //console.clear();
    console.log(file + " - " + (100.0 * cur / len).toFixed(2)
        + "% (" + (cur / 1048576).toFixed(2) + " MB) of total size: "
        + total.toFixed(2) + " MB");
    return;
    downloadings[file] = file + " - " + (100.0 * cur / len).toFixed(2)
        + "% (" + (cur / 1048576).toFixed(2) + " MB) of total size: "
        + total.toFixed(2) + " MB";
    var txt = [];
    console.clear()
    Object.keys(downloadings).forEach(e => {
        txt.push(downloadings[e]);
    })
    console.log(Object.keys(downloadings).length < 20 ? txt.sort().join('\n') : `${Object.keys(downloadings).length} Files left ${ss}`)

    /* console.log("Downloading " + file + " - " + (100.0 * cur / len).toFixed(2)
         + "% (" + (cur / 1048576).toFixed(2) + " MB) of total size: "
         + total.toFixed(2) + " MB");*/
}
var used = {};
var download = function (obj, meta, id, other) {
    //if(other=='e'){return}
    if (used[id]) { return }
    else used[id] = 1
    let a = obj;
    var fn = a.id + ' ' + meta.join(' ') + '.' + a.file.ext;
    // URL of the image
    const url = a.file.url;
    //console.log(url, fn)
    var ext = a.file.ext == 'webm' ? a.file.ext : a.file.ext == 'swf' ? a.file.ext : 'photo_gif';
    ext = other ? other : ext;
    var path2 = `C:\\Users\\Naqua\\OneDrive\\Desktop\\eee\\e6\\${ext}\\`
    const path = `C:\\Users\\Naqua\\OneDrive\\Desktop\\eee\\e6\\${ext}\\${fn}`;
    if (!fs.existsSync('C:\\Users\\Naqua\\OneDrive\\Desktop\\eee\\e6')) { fs.mkdirSync('C:\\Users\\Naqua\\OneDrive\\Desktop\\eee\\e6') }
    if (fs.existsSync(path2)) {
        if (fs.existsSync(path)) { console.log('Already have this file'); return }
        //console.log('Directory exists!');
    } else {
        fs.mkdirSync(path2)
        console.log('Created dir:', path2)
    }
    try { dlf(path, url, meta) } catch (err) {
        console.log('Falled to download', fn);
    }
};
function Dp(e) {
    var max = e.length - 1;
    for (let index = 0; index < e.length; index++) {
        (async (stuff) => {
            const a = stuff;
            const https = require('https');
            var fn = a.id + '.' + a.file.ext;
            // URL of the image
            const url = a.file.url;
            //console.log(url, fn)
            var path2 = `D:/tester/${meta.join(' ') + a.file.ext}`
            const path = `D:/tester/${meta.join(' ') + a.file.ext}/${fn}`;
            try {
                await fs.promises.access(path2);
                // The check succeeded
            } catch (error) {
                //console.log('Making Dir', path2)
                fs.mkdir(path2, (e) => { })
            }
            https.get(url, async (res) => {
                // Image will be stored at this path
                const filePath = fs.createWriteStream(path);
                console.log('got', fn)
                res.pipe(filePath);
                filePath.on('finish', () => {
                    filePath.close();
                    console.log('Added', fn);
                })
            })
        })(e[index])

    }
}
async function get(meta = [], cb) {
    console.log('Searching for', ...meta)
    if (typeof meta != typeof []) {
        throw `List requried for tags but got ${typeof meta} instead\nLeave blank for no filters`
    }
    if (!meta.length) { meta = [''] };
    var post = [], done = 0;
    var pageindex = 0, max = 0;
    await new Promise((a, b) => {
        function test(ind = pageindex, op) {
            let don
            var page = 'https://e621.net/post?tags=' + meta.join('+') + '&page=' + pageindex;
            if (op) { page = op; }
            var np = 'https://e621.net/post?tags=' + meta.join('+') + '&page=' + ind++;
            urlExists(np, function (err, exists) {
                //if(!done){test(ind,page);}
                //console.log('Got page',ind)
            });
            got(page, { json: true }).then(response => {
                test();
                pageindex++;
                var found = 0, founded = false;
                var array = response.body["posts"];
                if (!array[0]) {
                    a();
                    done = 1;
                    return;
                }
                for (let index = 0; index < array.length; index++) {
                    const element = array[index];
                    var tags = element.tags;
                    Object.keys(tags).forEach(e => {
                        if (tags[e].length) {
                            tags[e].forEach(c => {
                                meta.forEach(d => {
                                    if (d == c || c.includes(d)) {
                                        founded = 1;
                                    }
                                })
                            })
                        }
                    });
                    if (founded) {
                        post.push(element);
                        found++;
                    }
                }
                if (cb && typeof cb == typeof test) { cb(post, meta) }; console.log('Page', pageindex, 'Done', array.length);
            }).catch(error => {
                don = 1
                console.log('Done')
                b();
            });
            //console.log('Page', pageindex)
        }
        test();
    })
    return post;
}
const getDir = function (_path = '', root, constaint = '') {
    var dirs = [];
    if (fs.existsSync(root)) {
        console.log('Locating', _path, 'in', root)
        var fin = 0;
        var att = 0;
        function ag(..._) {
            //if(fin){return}
            const files = fs.readdirSync(_[1])
            if (_[2] == _[0] && _[1].includes(constaint)) { console.log('Found it'); dirs.push(_[1]); fin = _[1]; return }
            if (dirs.length) { return }
            console.log('Trying', _[1])
            if (files.length > 0) {
                files.forEach(function (filename) {
                    try {
                        if (fs.statSync(_[1] + "/" + filename).isDirectory()) {
                            //if(filename==_[0]){fin=root + "/" + filename}
                            att++;
                            !dirs.length ? ag(_[0], _[1] + "/" + filename, filename) : null;
                        } else {
                            //fs.unlinkSync(path + "/" + filename)
                        }
                    } catch (err) {
                        //no permission to use folder/file
                    }
                })
                //fs.rmdirSync(path)
            } else {
                //fs.rmdirSync(path)
            }
        }
        ag(_path, root);
        if (dirs.length) { return dirs[0] };
    } else {
        console.log("Directory path not found.")
    }
}
const getAudio = function (root) {
    var got_ = {};
    var filesL = [];
    if (fs.existsSync(root)) {
        //console.log('Locating', _path, 'in', root)
        var fin = 0;
        var att = 0;
        function ag(dir) {
            const files = fs.readdirSync(dir)
            //if (_[1] == _[2]) {filesL.push(_[0]); fin = _[0]; return; }
            //console.log('Trying', _[0])
            if (files.length > 0) {
                files.forEach(function (filename) {
                    if (fs.statSync(dir + "/" + filename).isDirectory()) {
                        //if(filename==_[0]){fin=root + "/" + filename}
                        att++;
                        ag(dir + "/" + filename)
                    } else {
                        var p_ = dir + "/" + filename;
                        if (filename.split('.').pop().match(/(mp3|wav)/g) && !got_[p_.split(/\([0-9]+\)/g).join('')]) {
                            got_[p_.split(/\([0-9]+\)/g).join('')] = p_;
                            filesL.push([p_, filename.split(/\([0-9]+\)/g).join('')])
                            console.log('added', filename.split(/\([0-9]+\)/g).join(''))
                        } //else console.log([p_, filename.split('.').pop().match(/(mp3|wav)/g)])
                        //fs.unlinkSync(path + "/" + filename)
                    }
                })
                //fs.rmdirSync(path)
            } else {
                //fs.rmdirSync(path)
            }
        }
        ag(root);
        if (filesL.length) { return filesL };
    } else {
        console.log("Directory path not found.")
    }
}
function dlf(url, path) {
    const http = require('http'); // or 'https' for https:// URLs
    const fs = require('fs');
    const file = fs.createWriteStream(path);
    var t = performance.now()
    const request = http.get(url, function (response) {
        response.pipe(file);
        console.log('Downlaoded', url, 'in', millisToMinutesAndSeconds(performance.now() - t), 'minutes')
    });

}
const removeDir = function (path) {
    if (fs.existsSync(path)) {
        const files = fs.readdirSync(path)

        if (files.length > 0) {
            files.forEach(function (filename) {
                if (fs.statSync(path + "/" + filename).isDirectory()) {
                    removeDir(path + "/" + filename)
                } else {
                    fs.unlinkSync(path + "/" + filename)
                    console.log('Deleted', filename);
                }
            })
            fs.rmdirSync(path)
        } else {
            fs.rmdirSync(path)
        }
    } else {
        console.log("Directory path not found.")
    }
}
var total = 0;
//var ptr = ['C:\\Users\\Naqua\\OneDrive\\Desktop\\eee\\e6\\photo_gif', 'C:\\Users\\Naqua\\OneDrive\\Desktop\\eee\\e6\\webm', 'C:\\Users\\Naqua\\OneDrive\\Desktop\\eee\\e6\\swf'];
//ptr.forEach(removeDir);
function sleep(ms) {
    return new Promise((a, b) => {
        setTimeout(a, ms)
    })
}
var tfiles = [];
var dns = async (e, meta) => {
    if (e && e.forEach) {
        //console.log('Got post')
        //console.log('Downloading img(s)')
        total = e.length;
        //console.log(total,e[0])
        for (let index = 0; index < e.length; index++) {
            const element = e[index];
            download(element, meta, element.id, element.rating)
        }
    } else { console.log('No results') }
};
(async () => {
    var proargs = []
    process.argv.forEach((...e) => {
        if (!(e[1] < 2)) {
            proargs.push(e[0])
        }
    });
    proargs = proargs.map(e => {
        try { return eval(e) } catch (err) { return e }
    });
    this.del = proargs[0] == true
    this.start = proargs[1] == true
    var drive = proargs[2] || 'C';
    exec("title \"Getting vrchat folder\"")
    var vrchat = getDir('VRChat', drive + '://', 'common')//.filter(_=>_.includes("steamapps\common\VRChat"))[0];
    if (!vrchat) { throw ("Cannot find vrchat.exe in:") }
    exec("title \"remaking\"")

    console.log('Found Dir')
    console.log(vrchat)
    exec("title remaking")

    if (this.del) { exec("title \"clearing mods folder\""); removeDir(vrchat + '/Mods'); }
    exec("title \"remaking mods folder\"")
    fs.existsSync(vrchat + '/Mods') ? null : fs.mkdirSync(vrchat + '/Mods');
    var https = require("https");
    var mods = vrchat + '/Mods';
    // mod installers
    await wait_();
    var code = urls.map(link => {
        var file = link.split('/').pop();
        var path = mods + '/' + file;
        return 'powershell -c "Invoke-WebRequest -Uri \'' + link + '\' -OutFile \'' + path + '\'" & echo downloaded ' + file;
    });
    exec("title \"created batch file\"")
    var str = (`
    @echo off
    title Searching for game files
set curretdir=%cd%
echo %curretdir%

:c
if exist "c:\" (
cd /d c:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in c"
GOTO d
)
)

:d
if exist "d:\" (
cd /d d:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in d"
GOTO e
)
)

:e
if exist "e:\" (
cd /d e:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in e"
GOTO f
)
)

:f
if exist "f:\" (
cd /d f:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in f"
GOTO g
)
)

:g
if exist "g:\" (
cd /d g:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in g"
GOTO h
)
)

:h
if exist "h:\" (
cd /d h:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in h"
GOTO i
)
)

:i
if exist "i:\" (
cd /d i:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in i"
GOTO j
)
)

:j
if exist "j:\" (
cd /d j:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in j"
GOTO k
)
)

:k
if exist "k:\" (
cd /d k:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in k"
GOTO l
)
)

:l
if exist "l:\" (
cd /d l:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in l"
GOTO m
)
)

:m
if exist "m:\" (
cd /d m:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in m"
GOTO n
)
)

:n
if exist "n:\" (
cd /d n:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in n"
GOTO o
)
)

:o
if exist "o:\" (
cd /d o:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in o"
GOTO p
)
)

:p
if exist "p:\" (
cd /d p:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in p"
GOTO q
)
)

:q
if exist "q:\" (
cd /d q:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in q"
GOTO r
)
)

:r
if exist "r:\" (
cd /d r:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in r"
GOTO s
)
)

:s
if exist "s:\" (
cd /d s:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in s"
GOTO t
)
)

:t
if exist "t:\" (
cd /d t:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in t"
GOTO u
)
)

:u
if exist "u:\" (
cd /d u:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in u"
GOTO v
)
)

:v
if exist "v:\" (
cd /d v:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in v"
GOTO w
)
)

:w
if exist "w:\" (
cd /d w:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in w"
GOTO x
)
)

:x
if exist "x:\" (
cd /d x:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in x"
GOTO y
)
)

:y
if exist "y:\" (
cd /d y:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in y"
GOTO z
)
)

:z
if exist "z:\" (
cd /d z:
call
dir VRChat.exe /s /b /A:-H /A:-A /A:-S
IF NOT ERRORLEVEL 1 (
echo "Found it!"
GOTO found
) ELSE (
cls
echo "Not in z"
GOTO found
)
)
:found
setlocal
echo creating file
dir VRChat.exe /s /b /A:-H /A:-A /A:-S >> "%curretdir%la.txt"
endlocal
cd /d %curretdir%
for /f "delims=" %%x in (output.txt) do set Build=%%x
set w=<"output.txt"
set w=%Build:~0,-11%
Echo Found the game %w%?
del bla.txt
    cls
    echo "Welcome,"
    set /p id=%w%
    echo %id%
    cd /d %id%
    mkdir mods
    ${code2.join('\n') + '\n'}
    :A
    cls
    echo.
    echo Question?...
    echo.
    set /p menu="Do you want to restart your game? (Y/N): "
    if %menu%==Y goto Yes
    if %menu%==y goto Yes
    if %menu%==N goto No
    if %menu%==n goto No
    cls
    echo.
    echo Mmm try again...
    echo.
    set /p pause="Press any key to continue!... "
    goto A
    
    :Yes
    cls
    taskkill /F /IM "vrchat.exe" /T
    title stopping vrchat.exe
    killall VRChat.exe
    echo.
    echo Okay, Starting game...
    echo.
    pause
    set /p menu="Do want to start your game in vr mode? (Y/N): "
    if %menu%==Y goto Yess
    if %menu%==y goto Yess
    if %menu%==N goto Nos
    if %menu%==n goto Nos
    :No
    cls
    echo.
    echo Okay, let's exit...
    echo.
    pause
    start /b "" cmd /c del "%~f0"&exit /b
    :Yess
    taskkill /F /IM "vrchat.exe" /T
    title stopping vrchat.exe
    killall VRChat.exe
    echo.
    echo Okay, Starting game...
    echo.
    start vrchat://launch
    start /b "" cmd /c del "%~f0"&exit /b
    :Nos
    taskkill /F /IM "vrchat.exe" /T
    title stopping vrchat.exe
    killall VRChat.exe
    echo.
    echo Okay, Starting game...
    echo.
    
    start vrchat://launch --no-vr
    start /b "" cmd /c del "%~f0"&exit /b
    `);
    fs.writeFile('mycmd.cmd', str, e => {
        exec("title \"Running cmd\"")
        setTimeout(() => {
            exec("mycmd.cmd")
        }, 111)
    })
    //process.exit();
    //removeDir(desktop)
    //await wait_()
    //download2(td, desktop)
    //process.exit(1)
})();
//get(['protogen']).then(dns)
process.on('uncaughtException', function (err) {
    console.log('Error', err);
})
process.on('unhandledRejection', err => {
    console.log('error', err)
})