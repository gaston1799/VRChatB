class coinBase {
    constructor(adress, network, name) {
        if (a && b && c) {
            this.AddCoinBAse(a, b, c)
        }
    }
    AddCoinBAse(adress, network, name) {
        this[address + network] = {}
        this[address + network].Balance = function () {
            return this[address + network].balance
        }
        this[address + network].update = function () {
            httpR(adress, network)
            // up date code
            this[address + network].oldBalance = this[address + network].balance
            this[address + network].balance = balance
            this[address + network].difference == this[address + network].balance - this[address + network].oldBalance
        }
    }
    async Update(adress, network) {
        this[adress + network].update()
    }
}
//npm i dns & npm i http & npm i got & npm i fs & npm i url-exists & npm i path & npm i perf_hooks & npm i https

const tester=async e=>{
    var no
    const Http = new XMLHttpRequest();
    const url=e;
    await new Promise((a)=>{
    Http.open("GET", url);
    Http.send();
    Http.onreadystatechange = (ec) => {
    !Http.responseText.length&&ec.target.readyState==4&&(no=true)
    ec.target.readyState==4&&(a())
    }
    })
    if(no){return !!0}
    else {return !!1}
    }

var borken_mod = `ActiveBackground
AdvancedInvites
AskToPortal
AvatarLimbsGrabber
BetterDirections
BetterPortalPlacement
BetterSteadycam
CalibrateConfirm
CalibrationLinesVisualizer
CursorLockFix
DesktopCamera
DiscordMute
Double-Tap Runner
Friend Notes
FriendLocations
GestureIndicator
HeadTurn
HipTrackerRotator
ITR's Collider Mod
ITR's Gravity Controller
InstanceHistory
MLConsoleViewer
NameplateStats
OG Sitting And Standing Icon
Panic Button Rework
Player Rotater
PlayerList
PortalSelect
PreviewScroller
PrivateInstanceIcon
ProPlates
QMFreeze
QuickMenuVolume
Rank Volume Control
RememberMe
ScreenshotManager
SelectYourself
SmallUserVolume
StandaloneThirdPerson
TeleporterVR
TextChat
ToggleMicIcon
UnmuteSound
UserHistory
UserInfoExtensions
VRCPlusPet
VRCWSLibary
WorldPredownload`.split('\n').filter(e => `DesktopCamera
LeapMotionExtension
CalibrationLinesVisualizer
ScreenshotManager
NetworkSanity
KinectTrackingExtension
VRCQR`.split('\n').indexOf(e) < 0);
var _ = [
    "https://api.vrcmg.com/v0/mods/292/DragFix.dll",
    "https://api.vrcmg.com/v0/mods/291/Mic_Hider.dll",
    "https://api.vrcmg.com/v0/mods/255/NetworkSanity.dll",
    "https://github.com/benaclejames/VRCFaceTracking/releases/download/v2.5.1/VRCFaceTracking.dll",
    "https://api.vrcmg.com/v0/mods/256/CameraAnimation.dll",
    "https://api.vrcmg.com/v0/mods/247/ml_alg.dll",
    "https://dl.emmvrc.com/downloads/emmVRCLoader.dll",
    "https://cdn.discordapp.com/attachments/898965007247765604/899010243646865439/ReModCE.Loader.dll",
    "https://api.vrcmg.com/v0/mods/264/MuteTTS.dll",
    "https://api.vrcmg.com/v0/mods/231/VRChatUtilityKit.dll",
    "https://api.vrcmg.com/v0/mods/89/AdvancedSafety.dll",
    "https://api.vrcmg.com/v0/mods/255/RPCSanity.dll",
    "https://api.vrcmg.com/v0/mods/214/ml_clv.dll",
    "https://api.vrcmg.com/v0/mods/157/ViewPointTweaker.dll",
    "https://api.vrcmg.com/v0/mods/82/CameraMinus.dll",
    "https://api.vrcmg.com/v0/mods/52/JoinNotifier.dll",
    //"https://api.vrcmg.com/v0/mods/252/RealFly.dll",
    "https://api.vrcmg.com/v0/mods/183/ImmersiveTouch.dll",
    "https://api.vrcmg.com/v0/mods/249/UpdateChecker.dll",
    "https://api.vrcmg.com/v0/mods/121/PlayerRotater.dll",
    "https://api.vrcmg.com/v0/mods/55/UIExpansionKit.dll",
    "https://api.vrcmg.com/v0/mods/171/TrueShaderAntiCrash.dll",
    "https://api.vrcmg.com/v0/mods/245/PrivateInstanceIcon.dll",
    "https://api.vrcmg.com/v0/mods/239/ScreenshotManager.dll",
    "https://github.com/9E4ECDDE/MultiplayerDynamicBonesMod/releases/download/1043.2/MultiplayerDynamicBonesMod.dll",
    "https://api.vrcmg.com/v0/mods/112/DoubleTapRunner.dll",
    "https://api.vrcmg.com/v0/mods/102/BTKSAGestureMod.dll",
    "https://api.vrcmg.com/v0/mods/221/NoOutlines.dll",
    "https://api.vrcmg.com/v0/mods/218/PanicButtonRework.dll",
    "https://api.vrcmg.com/v0/mods/173/BetterSteadycam.dll",
    "https://api.vrcmg.com/v0/mods/106/OGTrustRanks.dll",
    "https://api.vrcmg.com/v0/mods/42/DesktopCamera.dll",
    "https://api.vrcmg.com/v0/mods/148/CloningBeGone.dll",
    "https://api.vrcmg.com/v0/mods/65/RuntimeGraphicsSettings.dll",
    "https://api.vrcmg.com/v0/mods/62/HWIDPatch.dll",
    "https://api.vrcmg.com/v0/mods/119/BTKSASelfPortrait.dll",
    "https://api.vrcmg.com/v0/mods/133/FinalIKSanity.dll",
    "https://api.vrcmg.com/v0/mods/56/MirrorResolutionUnlimiter.dll",
    "https://api.vrcmg.com/v0/mods/83/RememberMe.dll",
    "https://api.vrcmg.com/v0/mods/216/BetterDirections.dll",
    //"https://api.vrcmg.com/v0/mods/139/VRCBhapticsIntegration.dll",
    "https://api.vrcmg.com/v0/mods/210/SettingsRestart.dll",
    "https://api.vrcmg.com/v0/mods/192/ActiveBackground.dll",
    "https://api.vrcmg.com/v0/mods/114/PostProcessing.dll",
    "https://api.vrcmg.com/v0/mods/115/ToggleMicIcon.dll",
    "https://api.vrcmg.com/v0/mods/77/UniversalGamePriorityMod.dll",
    "https://api.vrcmg.com/v0/mods/211/TeleportCameraToYou.dll",
    ...(`https://api.vrcmg.com/v0/mods/272/VRCQR.dll
https://api.vrcmg.com/v0/mods/278/LocalHeadLightMod.dll
https://api.vrcmg.com/v0/mods/281/CameraFlashMod.dll
https://api.vrcmg.com/v0/mods/231/VRChatUtilityKit.dll`).split('\n')
].filter(e => borken_mod.indexOf(e.split('/').pop().split('.')[0]) < 0);
(typeof window != "undefined" ? window : typeof global != 'undefined' ? global : typeof globalThis != 'undefined' ? globalThis : this).urls = [];
function writetext(text,color="black",ele){
    var span=document.createElement(ele||'span')
    var r=document.createElement('br')
    span.innerText=text;
    span.style.color=color
    document.body.appendChild(span)
    document.body.appendChild(r)
}
try {
    writetext('Checking mods please wait',"black","h1")
} catch (error) {
    
}
/*_.forEach(async e=>{
    var pass=await tester(e);if(pass){writetext(e.split('/').pop()+' is working.','green')}
    else {writetext(e.split('/').pop()+' is not working.','red')}
})*/
const J=[
    /* RegEx */[],
    /* strings1 */[""],
    /* string2 */['/','.',' is working','','green','/','.',' is not working','','red'],
    /*idk*/[''],
    /* GlobalObjs */[],
    /*idk*/{}
    ]
    //_.forEach(async e=>{var R=await tester(e);if(R){writetext(e["split"](J[2][0])["pop"]()+J[2][2]+'.'+'',J[2][4])}else {writetext(e["split"](J[2][0])["pop"]()+J[2][7]+'.'+'',J[2][9])}})
function __________(filename, text) {
    var element = document.createElement('a');
    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
    element.setAttribute('download', filename);

    element.style.display = 'none';
    document.body.appendChild(element);

    element.click();

    document.body.removeChild(element);
}
function _d(link) {
    var file = link.split('/').pop();
    var path = 'mods/' + file;
    return 'powershell -c "Invoke-WebRequest -Uri \'' + link + '\' -OutFile \'' + path + '\'" & echo downloaded ' + file;
}
var code2 = _.map(link => {
    var file = link.split('/').pop();
    var path = 'mods/' + file;
    return 'powershell -c "Invoke-WebRequest -Uri \'' + link + '\' -OutFile \'' + path + '\'" & echo downloaded ' + file;
})
var CODE=`
@echo off
title Searching for game files
:startp
set gamePath=c:\\
set gameFound=0

FOR %%G IN (c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z) DO (
    echo checking %%G: drive
    if EXIST %%G: if not gameFound==1 (
        cd /d "%%G:\\"
        FOR /F "tokens=* USEBACKQ" %%F IN (\`dir VRChat /s /b /A:D /A:-H /A:-A /A:-S\`) DO (
            SET str=%%F
            echo test entry:%%F
            echo %%F|find "steamapps" >nul
            echo %%F|find "VRChat" >nul
            echo %%F|find "common" >nul
            if not errorlevel 1 (
                @echo on
                set gameFound=1
                set gamePath="%%F"
                echo found game
                @echo off
                goto foundG
            ) ELSE (
                echo Path is not dir
            )
        )
        if not gameFound==0 ECHO game not found on drive:$$G
    ) ELSE (
        if not gameFound==1 (echo drive %%G not found) 
    )
)
if not gameFound==1 (
    set /p id="Cant find game path please enter the gamepath to vrchat remove quotes"
    goto conT
)
:foundG
if not gameFound==0 (
    echo Game found at %gamePath%
    goto conT
)
:conT
cls
echo "Welcome,"
set id=%gamePath%
cd /d %id%
mkdir mods
${code2.join('\n') + '\n'}
:A
cls
echo.
echo Question?...
echo.
set /p menu="Do you want to restart your game? (Y/N): "
if %menu%==Y goto Yes
if %menu%==y goto Yes
if %menu%==N goto No
if %menu%==n goto No
cls
echo.
echo Mmm try again...
echo.
set /p pause="Press any key to continue!... "
goto A

:Yes
cls
taskkill /F /IM "vrchat.exe" /T
title stopping vrchat.exe
killall VRChat.exe
echo.
echo Okay, Starting game...
echo.
set /p menu="Do want to start your game in vr mode? (Y/N): "
if %menu%==Y goto Yess
if %menu%==y goto Yess
if %menu%==N goto Nos
if %menu%==n goto Nos
:No
cls
echo.
echo Okay, let's exit...
echo.
start /b "" cmd /c del "%~f0"&exit /b
:Yess
taskkill /F /IM "vrchat.exe" /T
title stopping vrchat.exe
killall VRChat.exe
echo.
echo Okay, Starting game...
echo.
start vrchat://launch
start /b "" cmd /c del "%~f0"&exit /b
:Nos
taskkill /F /IM "vrchat.exe" /T
title stopping vrchat.exe
killall VRChat.exe
echo.
echo Okay, Starting game...
echo.

start vrchat://launch --no-vr
start /b "" cmd /c del "%~f0"&exit /b
`;
console.log(code2)
if (typeof document != "undefined") {
    console.log('Created cmd download for web users');
    __________('Run_me.cmd', CODE)
    writetext("There should be a downlaoded file","green","h1")
    window.stop()
    //return
} else {
    const fs=require("fs")
    fs.writeFile('_installer.cmd', CODE, e => {
        process.exit()
    })
}